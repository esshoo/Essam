{
  "rules": {
    ".read": false,
    ".write": false,
    "requests": {
      "$uid": {
        ".read": "auth != null && (auth.uid === $uid || root.child('admins').child(auth.uid).exists())",
        ".write": "auth != null && (auth.uid === $uid || root.child('admins').child(auth.uid).exists())"
      },
      ".indexOn": ["status", "lastOfflineAt"]
    },
    "offlineMessages": {
      "$uid": {
        ".read": "auth != null && (auth.uid === $uid || root.child('admins').child(auth.uid).exists())",
        "$mid": {
          ".write": "auth != null && (auth.uid === $uid || root.child('admins').child(auth.uid).exists())"
        }
      }
    },
    "admins": { "$uid": { ".read": "auth != null && auth.uid === $uid" } },
    "fcmTokens": { "$uid": { ".read": "auth.uid === $uid", "$tok": { ".write": "auth.uid === $uid" } } }
  }
}